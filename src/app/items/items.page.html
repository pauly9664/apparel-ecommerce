<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
          <ion-back-button defaultHref="/"></ion-back-button>
        </ion-buttons>
    <ion-title text-center> Our products ...</ion-title>
    <ion-buttons slot="end">
      <ion-button (click) ="autoClose = !autoClose">
        <ion-icon slot="icon-only" name="close" *ngIf="autoClose"></ion-icon>
        <ion-icon slot="icon-only" name="resize" *ngIf="!autoClose"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [scrollEvents]="true">
  <h1 style="color: gold;" text-center> Select Item </h1>
  <ion-list *ngFor = "let item of produce; let i = index;" class="accordion-list" lines="none" detail="false" no-padding>
   <ion-item tappable (click)="toggleSection(i)" [ngClass]="{'section-active': item.open, 'section': !item.open}">
     <ion-icon slot="start" name="arrow-dropright" *ngIf="!item.open"></ion-icon>
     <ion-icon slot="end" name="arrow-dropdown" *ngIf="item.open"></ion-icon>
     <ion-label>
       {{ item.name }}
     </ion-label>
   </ion-item>
   <div *ngIf="item.children && item.open">
     <ion-list *ngFor="let child of item.children; let j = index;" lines="none" class="child-list">
        <ion-item tappable (click)="toggleItem(i, j)" [ngClass]="{'child-active': child.open, 'child': !child.open}">
            <ion-label>
             <p style="color: #000" text-center>{{ child.name}}</p>
            </ion-label>
          </ion-item>
          <app-products [products]="child" *ngIf="!child.children"></app-products>
          <ion-list *ngIf="child.children && child.open" class="products-list" lines="none">
            <!-- <app-products [products] = "products" *ngFor="let products of child.children"></app-products> -->
          </ion-list>
     </ion-list>
   </div> 

   <p *ngIf="item.children.length == 0 && item.open" text-center style="color: red"> No items, items under this category have been depleted</p>
  </ion-list>


      

